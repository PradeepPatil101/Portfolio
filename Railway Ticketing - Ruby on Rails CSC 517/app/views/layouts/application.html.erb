<!DOCTYPE html>
<html>
  <head>
    <title>Program2</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>

    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>


  <div class="container">
    <header class="d-flex flex-nowrap align-items-center py-3 mb-4 border-bottom">

<!--      <div class="col-md-1"></div> -->

      <ul class="nav col-md-9 ">
        <% if !current_user || !session[:admin] %>
          <li><%= link_to "Home", root_path, class: "nav-link px-2 link-secondary" %></li>
          <li><%= link_to "Trains", trains_path, class: "nav-link px-2 link-secondary" %></li>
          <li><%= link_to "Reviews", reviews_path, class: "nav-link px-2 link-secondary" %></li>
        <% end %>
        <% if current_user %>
          <% if session[:admin] %>
            <li><%= link_to 'Passenger Search', passenger_search_path, class: 'nav-link px-2 link-secondary' %></li>
            <li><%= link_to "Edit Profile", edit_admin_path(current_user),  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Manage Passengers", passengers_path,  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Manage Trains", trains_path,  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Manage Tickets", tickets_path,  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Manage Reviews", reviews_path,  class: "nav-link px-2 link-secondary"  %></li>
          <% else %>
            <li><%= link_to "Manage Tickets/Trip History", tickets_path,  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Manage Reviews", manage_reviews_reviews_path,  class: "nav-link px-2 link-secondary"  %></li>
            <li><%= link_to "Edit Profile", edit_passenger_path(current_user),  class: "nav-link px-2 link-secondary"  %></li>
          <% end %>
        <% end %>
      </ul>

      <div class="col-md-3 text-end">
        <div class="d-flex justify-content-end">
          <% if !current_user %>
            <%= link_to "Login", login_path, class: "nav-link px-2 link-secondary" %>
            <%= link_to "Sign-up", signup_path, class: "nav-link px-2 link-secondary" %>
          <% elsif current_user %>
            <%= link_to "Logout", logout_path, class: "nav-link px-2 link-secondary" %>
          <% end %>
        </div>
      </div>
    </header>
  </div>




  <div class="container">
    <%= yield %>
  </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  </body>
</html>
